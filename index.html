<!doctype html>
<html>
  <head><title>VJ</title></head>
<body>
  ==========web.config==============
 
  <connectionStrings>
    <add name="anantfreshConnectionString" connectionString="Data Source=103.25.131.114,2499;Initial Catalog=anantfresh.db;User ID=us.anant.db;Password=anant21.db" providerName="System.Data.SqlClient"/>
     </connectionStrings>
    
  ====================global.ascx=============================
<%@ Application Language="C#" %>
<%@ Import Namespace ="System.Web.Routing" %>
<script runat="server">
    void Application_Start(object sender, EventArgs e) 
    {   
        RouteTable.Routes.MapPageRoute("StoreRoute6", "product/{srch}", "~/product.aspx");   
    } 
    void Application_End(object sender, EventArgs e) 
    {
        //  Code that runs on application shutdown

    }      
    void Application_Error(object sender, EventArgs e) 
    { 
        // Code that runs when an unhandled error occurs

    }
    void Session_Start(object sender, EventArgs e) 
    {
        // Code that runs when a new session is started
        // Code that runs when a new session is started
        Session["URL"] = "0";

    }
    void Session_End(object sender, EventArgs e) 
    {
        // Code that runs when a session ends. 
        // Note: The Session_End event is raised only when the sessionstate mode
        // is set to InProc in the Web.config file. If session mode is set to StateServer 
        // or SQLServer, the event is not raised.
    }
    protected void Application_AuthenticateRequest(object sender, EventArgs e)
    {
        if (HttpContext.Current.User != null)
        {
            if (Request.IsAuthenticated == true)
            {                          
                FormsAuthenticationTicket ticket = FormsAuthentication.Decrypt(Context.Request.Cookies[FormsAuthentication.FormsCookieName].Value);                          
                string[] roles = new string[1] { ticket.UserData };
                FormsIdentity id = new FormsIdentity(ticket);
                Context.User = new System.Security.Principal.GenericPrincipal(id, roles);        
            }
        }         
    }     
</script>  
    
================ClassLibrary===============
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
  
namespace ClassLibrary
{
   public class CallExecutive
    {
       public string username { get; set; }
       public string OrderNo { get; set; }  
    }
}
=================ConnectDb.cs============
  using System;
using System.Configuration;
using Microsoft.SqlServer.Server;
using Microsoft.Practices.EnterpriseLibrary.Data;

namespace DlResultDetails
{
  public class ConnectDb
    {
      private static string AppDatabaseName;
        public static Database GetDatabase()
        {
            try
            {
                Database db = null;
                if (AppDatabaseName == null)
                {
                    return db = DatabaseFactory.CreateDatabase();
                }
                else
                {
                    return db = DatabaseFactory.CreateDatabase(AppDatabaseName);
                }
            }
            catch (Exception ex)
            {
                throw ex;
            }
        }

        static ConnectDb()
        {
            AppDatabaseName = ConfigurationSettings.AppSettings["AppDatabaseName"];
        }
    }  
}

  </body>
</html>
